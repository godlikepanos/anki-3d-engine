
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>glTF Viewer and asset compression &#8212; Compressonator Compressonator - latest build documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     'Compressonator - latest build',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mip Map Generation" href="userguide.html" />
    <link rel="prev" title="3D Model Compression" href="index_3dmodelcompression.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="gltf-viewer-and-asset-compression">
<h1>glTF Viewer and asset compression<a class="headerlink" href="#gltf-viewer-and-asset-compression" title="Permalink to this headline">¶</a></h1>
<p>Compressonator GUI application now supports glTF V2.0 file formats for
viewing and processing. (Note: The CLI application does not support
processing these files and will be updated in future revisions)</p>
<p>In order to use this feature the current V2.7 release requires <strong>DX12
compatable HW and Drivers as well as Win10 RS2 or later</strong>.</p>
<p>You can check if your system fulfills this requirement by running
DirectX Diagnostic Tool (or dxdiag.exe) and refer to Win10 OS build
15063.xxx or later / Win 10 Version 1703 or later. Future releases will
add support for OpenGL.</p>
<p>You can check by running windows dxdiag.exe on your system and check
that it matches what is highlighted below.</p>
<p><img alt="image87" src="../../_images/image91.png" /></p>
<p>To use this feature,</p>
<p><strong>*Step 1*</strong>: simply open a model with .gltf extension or drag and drop
the file from a file explorer to the GUI Projects Tree view panel as
shown below. The following steps is using the sample glTF file
(SciFiHelmet.gltf) downloaded from
<a class="reference external" href="https://github.com/KhronosGroup/glTF-Sample-Models/tree/master/2.0/SciFiHelmet">https://github.com/KhronosGroup/glTF-Sample-Models/tree/master/2.0/SciFiHelmet</a></p>
<p><img alt="image88" src="../../_images/image92.png" /></p>
<p>Now that we have a .gltf source we can now add any number of new .gltf
files to use for processing.</p>
<p><strong>*Step 2*</strong>: Clicking on (&gt;) shows additional setting</p>
<p><img alt="image89" src="../../_images/image93.png" /></p>
<p>Double click on “Add gtTF destination settings” to allow copying the
original file to a new file for further processing. A Destination
Setting window will pop up as shown as below, this set up is used to
preserve the original file settings and allow users to change only
copies of it:</p>
<p><img alt="image90" src="../../_images/image94.png" /></p>
<p>On this new settings dialog, you can change the default destination file
name and folder then save</p>
<p><strong>*Step 3*</strong>: The project tree will now display the copied gltf file.
This copy still refers to the original sources images, cloud point data,
meshes etc…</p>
<p><img alt="image91" src="../../_images/image95.png" /></p>
<p>To view the 3D model simply click on the item or its icon, the 3D model
view will show up in the viewer panel as shown below:</p>
<p><img alt="image92" src="../../_images/image96.png" /></p>
<p>Note that the properties view has also been updated as shown above.</p>
<p>The 3D model view can be rotated and tilted by left mouse click and move
on the view. To scale, use the mouse wheel in or out.</p>
<p>Note: By design all 3D views from any source are synced with mouse moves
and scale.&nbsp; To reset the views back to origin, click on the right mouse
button.</p>
<p><strong>*Step 4*</strong>: Now that we have a copy of the original we are ready to
change the source assets to use compression.</p>
<p>Clicking on (&gt;) of the newly added glTF file to show additional setting.
Double click on “Add Destination Settings.”&nbsp; To show the Destination
Settings Dialog as shown below:</p>
<p><img alt="image93" src="../../_images/image97.png" /></p>
<p>The Source drop down list will show all the files that are available for
compression in the selected model.</p>
<p><img alt="image94" src="../../_images/image98.png" /></p>
<p>Select the source file, then set its destination and compression
settings.</p>
<p>Select save to mark the content of the gltf file “SciFiHelmet_1.gltf”
to reference the new destination file.</p>
<p><img alt="image95" src="../../_images/image99.png" /></p>
<p>(Note since we have not yet processed the new compression settings the
contents of the copy have not been updated. It will only update when the
settings have been processed without any errors.)</p>
<p><strong>*Step 5*</strong>: You can repeat “Step 4” process of “Add Destination
Settings for all or any number of the remaining texture files that are
not previously selected. Note that the Source drop down list in the
Destination Setting dialog will get smaller each time a file is selected
for processing as we only allow one format to be selected for each
texture within the glTF file. If you would like to try out different
format on the specific texture, please repeat Step 2 to 4.</p>
<p><strong>*Step 6*</strong>: Right click on the tree item to process the new settings</p>
<p><img alt="image96" src="../../_images/image100.png" /></p>
<p>or select the process all icon<img alt="image97" src="../../_images/image101.png" /> on the tool bar.</p>
<p><strong>*Step 7*</strong>: Once the process is complete and successful a new green
icon will be displayed. At this point the SciFiHelmet_1.gltf file
reference to the new destination file
SciFiHelmet_BaseColor_PNG_BC7_1.dds file will be updated.</p>
<p><img alt="image98" src="../../_images/image102.png" /></p>
</div>
<div class="section" id="vulkan-viewer-alpha-code-windows-os-only">
<h1>Vulkan®  Viewer [ Alpha Code ] (Windows OS Only)<a class="headerlink" href="#vulkan-viewer-alpha-code-windows-os-only" title="Permalink to this headline">¶</a></h1>
<p>Allows viewing glTF files with textures. Currently features for “3d Model Diff”  and  “Stats” window are disabled.</p>
<p><img alt="image122" src="../../_images/image122.png" /></p>
</div>
<div class="section" id="gltf-3d-model-diff">
<h1>glTF 3D Model Diff<a class="headerlink" href="#gltf-3d-model-diff" title="Permalink to this headline">¶</a></h1>
<p>To view a 3D model diff, select the model copy “SciFiHelmet_1.gltf” and
right mouse click on it. A new menu will display showing “View 3DModel
Diff”</p>
<p><img alt="image99" src="../../_images/image103.png" /></p>
<p>Once selected and after a few seconds of processing time. You will see
the 3D Model image diff rendering of the original 3D model
“SciFiHelmet.gltf” and it’s Compressed Version “SciFiHelmet_1.gltf”
alongside an animated render of both on the same view panel.</p>
</div>
<div class="section" id="directx-3d-model-diff-view-modes">
<h1>DirectX® 3D Model Diff View Modes<a class="headerlink" href="#directx-3d-model-diff-view-modes" title="Permalink to this headline">¶</a></h1>
<p>This feature allows the user to select a manual override of the automated difference view of two rendered models. The Auto View switches render frames at a predetermined rate after two render cycles of each model view, the Manual View allows the users to manually switch view using the keyboards space bar.</p>
<p><img alt="image120" src="../../_images/image120.png" /></p>
</div>
<div class="section" id="d-mesh-optimization-and-or-mesh-compression">
<h1>3D Mesh Optimization and/or Mesh Compression<a class="headerlink" href="#d-mesh-optimization-and-or-mesh-compression" title="Permalink to this headline">¶</a></h1>
<p>Add 3D model file into Project Explorer by “Double click here to add
files…” (recommended) or drag and drop into the Project Explorer. After
that, click on the right arrow next to the model file added to expand
the clickable “Add model destination settings…” view. Click on “Add
model destination settings…” and click Save to add a resulted model file
node as 2<sup>nd</sup> level of the Project Explorer tree view.</p>
<p><img alt="image100" src="../../_images/image104.png" /></p>
<p>Note that you can add multiple 2<sup>nd</sup> level output node to the
Project Explorer tree.</p>
<p>After that, expand the 2<sup>nd</sup> level output node
(SciFiHelmet_1.gltf) by clicking on the right arrow next to the node
and you will see the clickable “Add destination settings…”, click on
“Add destination settings…”, Destination Option window will pop up and
select a “Source” which are mesh (it will be a .bin file for glTF model
and .obj file itself for obj model). The Destination Option window will
be shown as below:</p>
<p><img alt="image101" src="../../_images/image105.png" /></p>
<p>By default, “AutoOpt” is selected, which will perform the best
optimization setting for the Model, you can override this setting by
selecting “UserOpt” and set accordingly as described below.</p>
<p><img alt="image102" src="../../_images/image106.png" /></p>
<div class="section" id="mesh-optimizer-settings-for-useropt-selection">
<h2>Mesh Optimizer Settings for “UserOpt” selection<a class="headerlink" href="#mesh-optimizer-settings-for-useropt-selection" title="Permalink to this headline">¶</a></h2>
<div class="section" id="optimize-vertex-cache">
<h3>Optimize Vertex Cache<a class="headerlink" href="#optimize-vertex-cache" title="Permalink to this headline">¶</a></h3>
<p>Optimize the cache utilization with LRU (least recently use) cache
replacement policy.</p>
</div>
<div class="section" id="cache-size">
<h3>Cache Size<a class="headerlink" href="#cache-size" title="Permalink to this headline">¶</a></h3>
<p>Specifies the hardware vertex cache size for vertex cache optimization.
This cache size refers to GPU built-in fixed size cache that store
transformed vertices.</p>
</div>
<div class="section" id="optimize-vertex-fifo">
<h3>Optimize Vertex FIFO<a class="headerlink" href="#optimize-vertex-fifo" title="Permalink to this headline">¶</a></h3>
<p>Optimize the cache utilization with FIFO (first in first out) cache
replacement policy.</p>
</div>
<div class="section" id="fifo-cache-size">
<h3>FIFO Cache Size<a class="headerlink" href="#fifo-cache-size" title="Permalink to this headline">¶</a></h3>
<p>Specifies the hardware vertex cache size for FIFO vertex cache
optimization. This cache size refers to GPU built-in fixed size cache
that store transformed vertices.</p>
</div>
<div class="section" id="optimize-overdraw">
<h3>Optimize Overdraw<a class="headerlink" href="#optimize-overdraw" title="Permalink to this headline">¶</a></h3>
<p>Reduce overdraw by reorder the triangles to render possible occludes
first. Recommended to perform overdraw after vertex optimization if
optimize vertex cache is checked. Overdraw optimization tries to
maintain a balance with vertex cache optimization using the input ACMR
Threshold.</p>
</div>
<div class="section" id="acmr-threshold">
<h3>ACMR Threshold<a class="headerlink" href="#acmr-threshold" title="Permalink to this headline">¶</a></h3>
<p>Average Cache Miss Ratio = #transformed vertices/#triangles (lower mean
better vertex cache optimization). This is used for overdraw
optimization process to make sure the overdraw optimization does not
compromise vertex cache optimization. By default, it is set t0 1.05
(means resulting ratio at most 5% worse). Set to 3 to force overdraw
optimization perform sorting on all triangles.</p>
</div>
<div class="section" id="optimize-vertex-fetch">
<h3>Optimize Vertex Fetch<a class="headerlink" href="#optimize-vertex-fetch" title="Permalink to this headline">¶</a></h3>
<p>Reduce overfetch from vertex buffer. This process will be performed
after optimizing overdraw if optimize overdraw is enabled.</p>
</div>
<div class="section" id="simplify-mesh">
<h3>Simplify Mesh<a class="headerlink" href="#simplify-mesh" title="Permalink to this headline">¶</a></h3>
<p>Simplify the mesh by using 70% of the original index count and perform
edge collapse algorithm using quadric and quadric error calculation. The
target index count depends on the level of detail set by the user.</p>
</div>
<div class="section" id="level-of-detail">
<h3>Level of Detail<a class="headerlink" href="#level-of-detail" title="Permalink to this headline">¶</a></h3>
<p>Used in simplify mesh. Each level will use 70% of the index count on
previous level. The higher the level, the less detail appear on the
resulted mesh.</p>
</div>
</div>
<div class="section" id="mesh-compression-settings-selection">
<h2>Mesh Compression Settings selection<a class="headerlink" href="#mesh-compression-settings-selection" title="Permalink to this headline">¶</a></h2>
<p>As of v4.2 this option has been disabled.</p>
<p>When selected it will perform mesh compression using
<a class="reference external" href="https://opensource.google.com/projects/draco">Draco</a> encoder lib.</p>
<p><img alt="image103" src="../../_images/image107.png" /></p>
<p>Click “Save” after completing the mesh optimizer and/or mesh compression
settings. You will see a 3<sup>rd</sup> level destination settings node
added to the Project Explorer as shown below:</p>
<p><img alt="image104" src="../../_images/image108.png" /></p>
<p>Right click on the 3<sup>rd</sup> level destination settings node and
select “Process &lt;node name&gt;” as shown below:</p>
<p><img alt="image105" src="../../_images/image109.png" /></p>
<p>A green circle will appear beside the destination settings node after
mesh optimization and/or compression completed.</p>
</div>
</div>
<div class="section" id="analyzing-mesh">
<h1>Analyzing Mesh<a class="headerlink" href="#analyzing-mesh" title="Permalink to this headline">¶</a></h1>
<p>Mesh analysis can be performed on the original model file as well as the
resulted model file ( 1<sup>st</sup> and 2<sup>nd</sup> level items in the tree
view of Project Explorer). Only .gltf and .obj files are supported for
mesh analysis.</p>
<p>After adding the model file to the Project Explorer, right click on the
file and select “Analyse Mesh Data” from the context menu:</p>
<p><img alt="image106" src="../../_images/image110.png" /></p>
<p>A 3D Mesh Analysis window will pop up as shown below:</p>
<p><img alt="image107" src="../../_images/image111.png" /></p>
<div class="section" id="analysis-vertex-cache">
<h2>Analysis Vertex Cache<a class="headerlink" href="#analysis-vertex-cache" title="Permalink to this headline">¶</a></h2>
<div class="section" id="vertex-cache-size">
<h3>Vertex Cache Size<a class="headerlink" href="#vertex-cache-size" title="Permalink to this headline">¶</a></h3>
<p>This is used to analyze vertex cache optimization. The vertex cache
should be set to match mesh optimizer vertex cache size. Usually range
between 16-32.</p>
</div>
<div class="section" id="warp-size-of-threads">
<h3>Warp Size (# of threads)<a class="headerlink" href="#warp-size-of-threads" title="Permalink to this headline">¶</a></h3>
<p>Number of threads per wave front group in GPU scheduling. 64 by default.</p>
</div>
<div class="section" id="primitive-buffer-size">
<h3>Primitive Buffer Size<a class="headerlink" href="#primitive-buffer-size" title="Permalink to this headline">¶</a></h3>
<p>Triangle group size. Default is set to 128.</p>
</div>
</div>
<div class="section" id="analysis-vertex-fetch">
<h2>Analysis Vertex Fetch<a class="headerlink" href="#analysis-vertex-fetch" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cache-line-buffer-size-bytes">
<h3>Cache Line Buffer Size(bytes)<a class="headerlink" href="#cache-line-buffer-size-bytes" title="Permalink to this headline">¶</a></h3>
<p>This is the cache line buffer size which can be retrieved by running
clinfo.exe in the window system. Default is set to 64.</p>
</div>
<div class="section" id="total-cache-buffer-size-bytes">
<h3>Total Cache Buffer Size(bytes)<a class="headerlink" href="#total-cache-buffer-size-bytes" title="Permalink to this headline">¶</a></h3>
<p>This is the total cache buffer size which can be retrieved by running
clinfo.exe in the window system. Default is set to 128*1024.</p>
</div>
</div>
<div class="section" id="analysis-overdraw">
<h2>Analysis Overdraw<a class="headerlink" href="#analysis-overdraw" title="Permalink to this headline">¶</a></h2>
<div class="section" id="orthographic-x-and-y-view-max-value">
<h3>Orthographic X and Y View Max Value<a class="headerlink" href="#orthographic-x-and-y-view-max-value" title="Permalink to this headline">¶</a></h3>
<p>Overdraw statistic is calculated from different orthographic camera view
start from 0. This set the maximum of X and Y viewport. Default is set
to 256.</p>
<p>After done setting the desired mesh analysis settings, click “Run Mesh
Analysis”, if you run mesh analysis from the source model file
(1<sup>st</sup> level tree item), the window will be updated with text
output as shown below:</p>
<p><img alt="image108" src="../../_images/image112.png" /></p>
<p>If you run mesh analysis from the resulted model file (2<sup>nd</sup> level
tree item), the window is updated with both resulted model file analysis
result as well as the original model file analysis result as shown
below:</p>
<p><img alt="image109" src="../../_images/image113.png" /></p>
<p>This is essential for users to compare between original and processed
model file mesh analysis.</p>
</div>
</div>
<div class="section" id="mesh-statistic">
<h2>Mesh Statistic<a class="headerlink" href="#mesh-statistic" title="Permalink to this headline">¶</a></h2>
<div class="section" id="acmr-average-cache-miss-ratio">
<h3>ACMR (Average Cache Miss Ratio)<a class="headerlink" href="#acmr-average-cache-miss-ratio" title="Permalink to this headline">¶</a></h3>
<p>ACMR = #transformed vertices/#triangles. The average number of cache
miss per triangle is 0.5 in optimum case and 3.0 in worst case. Lower
mean better vertex cache optimization.</p>
</div>
<div class="section" id="atvr-average-transform-vertices-ratio">
<h3>ATVR (Average Transform Vertices Ratio)<a class="headerlink" href="#atvr-average-transform-vertices-ratio" title="Permalink to this headline">¶</a></h3>
<p>ATVR = #transformed vertices / vertex count. The optimum case is 1.0,
worst case is 6.0. Lower mean better vertex cache optimization.</p>
</div>
<div class="section" id="overdraw">
<h3>Overdraw<a class="headerlink" href="#overdraw" title="Permalink to this headline">¶</a></h3>
<p>Overdraw = #pixels shaded/total pixels covered. The best case is 1.0
(each pixel is shaded once)</p>
</div>
<div class="section" id="overfetch">
<h3>Overfetch<a class="headerlink" href="#overfetch" title="Permalink to this headline">¶</a></h3>
<p>Overfetch = #bytes read from vertex buffer/total # bytes in vertex
buffer. The best case is 1.0 (each byte is fetched once)</p>
<p>Note: As mesh processing is model dependent. These mesh statistics shown
in mesh analysis can be used as a guideline to produce better mesh using
the <a class="reference external" href="#_Mesh_Optimizer_Settings">Mesh Optimizer Settings</a>.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/acompress-128.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">Compressonator</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../developer_sdk/index.html">Developer SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../command_line_tool/index.html">Command Line Tool</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">GUI Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build_from_source/build_instructions.html">Build from GitHub Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analysis/index.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../revisions.html">Revision History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/contact.html">Contact and Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bibliography.html">Bibliography</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">GUI Tool</a><ul>
  <li><a href="index.html">GUI User Guide</a><ul>
  <li><a href="index_3dmodelcompression.html">3D Model Compression</a><ul>
      <li>Previous: <a href="index_3dmodelcompression.html" title="previous chapter">3D Model Compression</a></li>
      <li>Next: <a href="userguide.html" title="next chapter">Mip Map Generation</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017 to 2021, AMD Developer Tools.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>